kind: pipeline
name: drone-weather

clone:
  depth: 50

steps:
- name: make-cover
  image: golang:1.10
  pull: true
  commands:
  - go get golang.org/x/lint/golint
  - go get honnef.co/go/tools/cmd/staticcheck
  - go get github.com/vielmetti/weather
  - echo $GOPATH
  - echo $GOROOT
  - ls -ltr $GOPATH
  - ls -ltr $GOROOT
  - make all
  - make cover  
